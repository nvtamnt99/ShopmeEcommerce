<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="content" th:remove="tag">
    <div id="productList">
        <th:block th:each="detail, status : ${order.chiTietDH}">
            <div class="row border rounded p-1" th:with="product = ${detail.sanpham}" th:id="'row' + ${status.count}">
                <input type="hidden" name="productId" th:value="${product.maSanPham}" class="product-id-hidden" />
				<input type="hidden" name="detailId" th:value="${detail.maChiTietDonHang}"  />
                <div class="col-1">
					<div class="div-count">[[${status.count}]]</div>
					<div class="mt-1"><a class="fas fa-trash icon-dark link-remove" href="" th:rowNumber="${status.count}"></a></div>					
				</div>
                <div class="col-3"><img th:src="@{${product.DuongDanHinhAnhChinh}}" class="img-fluid" /></div>
                <div class="col-8-sm">
					<div>
						<b>[[${product.ten}]]</b>
					</div>
                    <div class="form-group row ml-3">
                        <label class="col-form-label">Chi phí:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        <div class="col">
                          <input type="text" required class="form-control cost-input" name="productCost"
                              th:rowNumber="${status.count}"
                              th:value="${detail.chiPhi}" style="max-width: 140px" />
                        </div>
                    </div>
                    <div class="form-group row ml-3">
                        <label class="col-form-label">Số lượng:</label>
                        <div class="col">
                          <input type="number" step="1" required class="form-control quantity-input" min="1" max="10" 
                              th:rowNumber="${status.count}" th:id="'quantity' + ${status.count}" 
                              name="quantity" th:value="${detail.soLuong}" style="max-width: 80px" />
                        </div>
                    </div>
                    <div class="form-group row ml-3">
                        <label class="col-form-label">Giá:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        <div class="col">
                          <input type="text" required class="form-control price-input" name="price"
                              th:rowNumber="${status.count}"
                              th:id="'price' + ${status.count}" 
                              th:value="${detail.donGia}" style="max-width: 140px" />
                        </div>
                    </div>
                    <div class="form-group row ml-3">
                        <label class="col-form-label">Tổng phụ:</label>
                        <div class="col">
                          <input type="text" readonly="readonly" class="form-control subtotal-output" name="productSubtotal"
                              th:id="'subtotal' + ${status.count}" 
                              th:value="${detail.tongphu}" style="max-width: 140px" />
                        </div>
                    </div>
                    <div class="form-group row ml-3">
                        <label class="col-form-label">Vận chuyển:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        <div class="col">
                          <input type="text" required class="form-control ship-input" name="productShip"
                              th:rowNumber="${status.count}"
                              th:value="${detail.ship}" style="max-width: 140px" />
                        </div>
                    </div>	
                </div>
            </div>
        </th:block>
    </div>
    <a th:href="@{'/donhang/search_product'}" id="addProduct" class="btn btn-success mt-3">Thêm sản phẩm</a>
</div>
</body>
